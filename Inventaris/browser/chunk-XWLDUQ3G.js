import{a as Je}from"./chunk-I3PEIBTC.js";import{a as He,b as qe,c as Ge,d as Qe}from"./chunk-W7CNA4V5.js";import{a as Fe,b as Ve,c as Le,d as ie,e as ne}from"./chunk-K6SJV66T.js";import{a as Be,b as Re,c as Ae,d as je}from"./chunk-6GRHLUW6.js";import{c as $e}from"./chunk-MFWW5XDS.js";import{b as le}from"./chunk-YCUPTL4E.js";import"./chunk-DCIWF3NK.js";import"./chunk-N64NHRQD.js";import"./chunk-N34H76JM.js";import"./chunk-WCPJYO2Z.js";import{a as ze,b as Ue}from"./chunk-AOYF6QNZ.js";import{a as We,b as Pe,d as _e,e as ue}from"./chunk-BNZ6GVUN.js";import{d as oe,e as Ee,i as re,j as ae}from"./chunk-BVYLKFEF.js";import"./chunk-PPHX6Q7S.js";import{A as de,b as ce,f as pe,k as me,x as Oe}from"./chunk-EMGI2SSV.js";import{a as se,c as P,e as z}from"./chunk-DPACH7O6.js";import{b as U,c as H}from"./chunk-IIOR2V55.js";import{D as ee,E as te}from"./chunk-SFWQ4JHW.js";import"./chunk-DITXZIYA.js";import"./chunk-PTSJDPUO.js";import"./chunk-G5ULN3RC.js";import{g as De}from"./chunk-HZDJ65MY.js";import{c as Te}from"./chunk-OAD3FQTP.js";import{h as Z,o as W}from"./chunk-MFIY2XVS.js";import{$b as s,Ac as L,Bb as p,D as be,Db as K,Ec as Ie,H as Q,Hb as N,Ib as C,J as we,Kb as Me,Lb as w,M as ye,Mb as y,Nb as a,Ob as l,Oc as O,Pb as u,Tb as x,X as M,Y as j,Zb as f,_ as $,ab as J,ca as Ne,db as r,eb as b,f as S,g as E,gc as k,ha as ke,hc as g,ic as Se,jc as D,n as G,na as T,nc as B,o as xe,oc as R,pc as A,rc as F,s as I,t as ve,tc as X,uc as Y,ya as m,za as d,zb as h,zc as V}from"./chunk-ULGM77ZI.js";import"./chunk-7EPSDV5K.js";var q=(()=>{class t{constructor(e){this._httpClient=e,this._labels=new E(null),this._note=new E(null),this._notes=new E(null)}get labels$(){return this._labels.asObservable()}get notes$(){return this._notes.asObservable()}get note$(){return this._note.asObservable()}getLabels(){return this._httpClient.get("api/apps/notes/labels").pipe($(e=>{this._labels.next(e)}))}addLabel(e){return this._httpClient.post("api/apps/notes/labels",{title:e}).pipe($(i=>{this._labels.next(i)}))}updateLabel(e){return this._httpClient.patch("api/apps/notes/labels",{label:e}).pipe($(i=>{this.getNotes().subscribe(),this._labels.next(i)}))}deleteLabel(e){return this._httpClient.delete("api/apps/notes/labels",{params:{id:e}}).pipe($(i=>{this.getNotes().subscribe(),this._labels.next(i)}))}getNotes(){return this._httpClient.get("api/apps/notes/all").pipe($(e=>{this._notes.next(e)}))}getNoteById(e){return this._notes.pipe(we(1),I(i=>{let n=i.find(o=>o.id===e)||null;return this._note.next(n),n}),M(i=>i?G(i):xe("Could not found the note with id of "+e+"!")))}addTask(e,i){return this._httpClient.post("api/apps/notes/tasks",{note:e,task:i}).pipe(M(()=>this.getNotes().pipe(M(()=>this.getNoteById(e.id)))))}createNote(e){return this._httpClient.post("api/apps/notes",{note:e}).pipe(M(i=>this.getNotes().pipe(M(()=>this.getNoteById(i.id).pipe(I(()=>i))))))}updateNote(e){let i=le(e);return i.labels.length&&(i.labels=i.labels.map(n=>n.id)),this._httpClient.patch("api/apps/notes",{updatedNote:i}).pipe($(n=>{this.getNotes().subscribe()}))}deleteNote(e){return this._httpClient.delete("api/apps/notes",{params:{id:e.id}}).pipe(I(i=>(this.getNotes().subscribe(),i)))}static{this.\u0275fac=function(i){return new(i||t)(ke(Te))}}static{this.\u0275prov=Ne({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var at=t=>({"text-secondary line-through":t});function lt(t,c){if(t&1){let e=x();a(0,"div",5)(1,"div",13)(2,"button",14),f("click",function(){m(e);let n=s(),o=s();return d(o.removeImage(n))}),u(3,"mat-icon",15),l()(),u(4,"img",16),l()}if(t&2){let e=s();r(3),p("svgIcon","heroicons_outline:trash"),r(),p("src",e.image,J)}}function st(t,c){if(t&1){let e=x();a(0,"div",17)(1,"mat-checkbox",21),A("ngModelChange",function(n){let o=m(e).$implicit;return R(o.completed,n)||(o.completed=n),d(n)}),f("change",function(){let n=m(e).$implicit,o=s(2),_=s();return d(_.updateTaskOnNote(o,n))}),l(),a(2,"input",22),A("ngModelChange",function(n){let o=m(e).$implicit;return R(o.content,n)||(o.content=n),d(n)}),f("input",function(){let n=m(e).$implicit,o=s(2),_=s();return d(_.updateTaskOnNote(o,n))}),l(),a(3,"mat-icon",23),f("click",function(){let n=m(e).$implicit,o=s(2),_=s();return d(_.removeTaskFromNote(o,n))}),l()()}if(t&2){let e=c.$implicit;r(),p("color","primary"),B("ngModel",e.completed),r(),p("ngClass",X(6,at,e.completed))("placeholder","Task"),B("ngModel",e.content),r(),p("svgIcon","heroicons_solid:x-mark")}}function ct(t,c){if(t&1){let e=x();a(0,"div",9),w(1,st,4,8,"div",17,N().trackByFn,!0),a(3,"div",18),u(4,"mat-icon",19),a(5,"input",20,0),f("keydown.enter",function(){m(e);let n=k(6),o=s();return s().addTaskToNote(o,n.value),d(n.value="")}),l()()()}if(t&2){let e=s();r(),y(e.tasks),r(3),p("svgIcon","heroicons_solid:plus"),r(),p("placeholder","Add task")}}function pt(t,c){if(t&1){let e=x();a(0,"div",24)(1,"div"),g(2),l(),a(3,"mat-icon",25),f("click",function(){let n=m(e).$implicit,o=s(2),_=s();return d(_.toggleLabelOnNote(o,n))}),l()()}if(t&2){let e=c.$implicit;r(2),D(" ",e.title," "),r(),p("svgIcon","heroicons_solid:x-circle")}}function mt(t,c){if(t&1&&(a(0,"div",10),w(1,pt,4,2,"div",24,N().trackByFn,!0),l()),t&2){let e=s();r(),y(e.labels)}}function dt(t,c){if(t&1){let e=x();a(0,"div",11)(1,"button",26),f("click",function(){m(e);let n=s(),o=s();return d(o.createNote(n))}),g(2," Save "),l()()}if(t&2){let e=s();r(),p("color","primary")("disabled",!e.title&&!e.content)}}function _t(t,c){if(t&1){let e=x();a(0,"button",34),f("click",function(){let n=m(e).$implicit,o=s(3),_=s();return d(_.toggleLabelOnNote(o,n))}),a(1,"span",18),u(2,"mat-checkbox",35),a(3,"span",36),g(4),l()()()}if(t&2){let e=c.$implicit,i=s(3),n=s();r(2),p("color","primary")("checked",n.isNoteHasLabel(i,e)),r(2),Se(e.title)}}function ut(t,c){t&1&&w(0,_t,5,3,"button",33,Me),t&2&&y(c)}function ft(t,c){if(t&1){let e=x();a(0,"div",12)(1,"div",27)(2,"div")(3,"input",28,1),f("change",function(){m(e);let n=k(4),o=s(),_=s();return d(_.uploadImage(o,n.files))}),l(),a(5,"label",29),u(6,"mat-icon",30),l()(),a(7,"button",14),f("click",function(){m(e);let n=s(),o=s();return d(o.addTasksToNote(n))}),u(8,"mat-icon",30),l(),a(9,"button",31),u(10,"mat-icon",30),l(),a(11,"mat-menu",null,2),h(13,ut,2,0),V(14,"async"),l(),a(15,"button",14),f("click",function(){m(e);let n=s(),o=s();return d(o.toggleArchiveOnNote(n))}),u(16,"mat-icon",30),l(),a(17,"button",14),f("click",function(){m(e);let n=s(),o=s();return d(o.deleteNote(n))}),u(18,"mat-icon",30),l()(),a(19,"button",32),g(20,"Close"),l()()}if(t&2){let e,i=k(12),n=s(2);r(3),p("multiple",!1)("accept","image/jpeg, image/png"),r(3),p("svgIcon","heroicons_outline:photo"),r(2),p("svgIcon","heroicons_outline:clipboard-document-list"),r(),p("matMenuTriggerFor",i),r(),p("svgIcon","heroicons_outline:tag"),r(3),C((e=L(14,9,n.labels$))?13:-1,e),r(3),p("svgIcon","heroicons_outline:archive-box"),r(2),p("svgIcon","heroicons_outline:trash")}}function Ct(t,c){if(t&1){let e=x();h(0,lt,5,2,"div",5),a(1,"div",4)(2,"div")(3,"input",6),A("ngModelChange",function(n){let o=m(e);return R(o.title,n)||(o.title=n),d(n)}),f("input",function(){let n=m(e),o=s();return d(o.updateNoteDetails(n))}),l()(),a(4,"div",7)(5,"textarea",8),A("ngModelChange",function(n){let o=m(e);return R(o.content,n)||(o.content=n),d(n)}),f("input",function(){let n=m(e),o=s();return d(o.updateNoteDetails(n))}),l()(),h(6,ct,7,2,"div",9)(7,mt,3,0,"div",10)(8,dt,3,2,"div",11)(9,ft,21,11,"div",12),l()}if(t&2){let e=c;C(e.image?0:-1),r(3),p("placeholder","Title"),B("ngModel",e.title),r(2),p("placeholder","Note"),B("ngModel",e.content),r(),C(e.tasks?6:-1),r(),C(e.labels&&e.labels.length?7:-1),r(),C(e.id?-1:8),r(),C(e.id?9:-1)}}var ge=(()=>{class t{constructor(e,i,n,o){this._changeDetectorRef=e,this._data=i,this._notesService=n,this._matDialogRef=o,this.noteChanged=new S,this._unsubscribeAll=new S}ngOnInit(){if(this._data.note.id)this._notesService.getNoteById(this._data.note.id).subscribe(),this.note$=this._notesService.note$;else{let e={id:null,title:"",content:"",tasks:null,image:null,reminder:null,labels:[],archived:!1,createdAt:null,updatedAt:null};this.note$=G(e)}this.labels$=this._notesService.labels$,this.noteChanged.pipe(j(this._unsubscribeAll),Q(500),M(e=>this._notesService.updateNote(e))).subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createNote(e){this._notesService.createNote(e).pipe(I(()=>{this.note$=this._notesService.note$})).subscribe()}uploadImage(e,i){if(!i.length)return;let n=["image/jpeg","image/png"],o=i[0];n.includes(o.type)&&this._readAsDataURL(o).then(_=>{e.image=_,this.noteChanged.next(e)})}removeImage(e){e.image=null,this.noteChanged.next(e)}addTasksToNote(e){e.tasks||(e.tasks=[])}addTaskToNote(e,i){i.trim()!==""&&this._notesService.addTask(e,i).subscribe()}removeTaskFromNote(e,i){e.tasks=e.tasks.filter(n=>n.id!==i.id),this.noteChanged.next(e)}updateTaskOnNote(e,i){i.id&&this.noteChanged.next(e)}isNoteHasLabel(e,i){return!!e.labels.find(n=>n.id===i.id)}toggleLabelOnNote(e,i){this.isNoteHasLabel(e,i)?e.labels=e.labels.filter(n=>n.id!==i.id):e.labels.push(i),this.noteChanged.next(e)}toggleArchiveOnNote(e){e.archived=!e.archived,this.noteChanged.next(e),this._matDialogRef.close()}updateNoteDetails(e){this.noteChanged.next(e)}deleteNote(e){this._notesService.deleteNote(e).subscribe(i=>{i&&this._matDialogRef.close()})}trackByFn(e,i){return i.id||e}_readAsDataURL(e){return new Promise((i,n)=>{let o=new FileReader;o.onload=()=>{i(o.result)},o.onerror=_=>{n(_)},o.readAsDataURL(e)})}static{this.\u0275fac=function(i){return new(i||t)(b(O),b(Ve),b(q),b(Fe))}}static{this.\u0275cmp=T({type:t,selectors:[["notes-details"]],standalone:!0,features:[F],decls:3,vars:3,consts:[["newTaskInput",""],["imageFileInput",""],["labelsMenu","matMenu"],[1,"-m-6","flex","flex-auto","flex-col","md:w-160","md:min-w-160"],[1,"m-4"],[1,"relative","w-full"],[1,"w-full","p-2","text-2xl",3,"ngModelChange","input","placeholder","ngModel"],[1,"flex","w-full","px-2","py-5"],["cdkTextareaAutosize","",1,"w-full",3,"ngModelChange","input","placeholder","ngModel"],[1,"mx-2","mt-4","space-y-1.5"],[1,"mx-1","mt-6","flex","flex-wrap","items-center"],[1,"mt-4","flex","items-center","justify-end"],[1,"mt-4","flex","items-center","justify-between"],[1,"absolute","bottom-0","right-0","p-4"],["mat-icon-button","",3,"click"],[1,"text-white",3,"svgIcon"],[1,"w-full","object-cover",3,"src"],[1,"group","flex","items-center"],[1,"flex","items-center"],[1,"text-hint","-ml-0.5","icon-size-5",3,"svgIcon"],[1,"ml-1.5","w-full","px-1","py-0.5",3,"keydown.enter","placeholder"],[1,"flex","items-center",3,"ngModelChange","change","color","ngModel"],[1,"w-full","px-1","py-0.5",3,"ngModelChange","input","ngClass","placeholder","ngModel"],[1,"ml-auto","hidden","cursor-pointer","icon-size-5","group-hover:flex",3,"click","svgIcon"],[1,"m-1","flex","items-center","rounded-full","bg-gray-100","px-3","py-0.5","text-sm","font-medium","text-gray-500","dark:bg-gray-700","dark:text-gray-300"],[1,"ml-1","cursor-pointer","icon-size-4",3,"click","svgIcon"],["mat-flat-button","",3,"click","color","disabled"],[1,"flex","items-center","space-x-2"],["id","image-file-input","type","file",1,"pointer-events-none","invisible","absolute","h-0","w-0","opacity-0",3,"change","multiple","accept"],["for","image-file-input","matRipple","",1,"flex","h-10","w-10","cursor-pointer","items-center","justify-center","rounded-full","hover:bg-gray-400","hover:bg-opacity-20","dark:hover:bg-black","dark:hover:bg-opacity-5"],[3,"svgIcon"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-flat-button","","matDialogClose",""],["mat-menu-item",""],["mat-menu-item","",3,"click"],["disableRipple","",1,"pointer-events-none","flex","items-center",3,"color","checked"],[1,"ml-1","leading-5"]],template:function(i,n){if(i&1&&(a(0,"div",3),h(1,Ct,10,9,"div",4),V(2,"async"),l()),i&2){let o;r(),C((o=L(2,1,n.note$))?1:-1,o)}},dependencies:[z,se,P,H,U,de,ce,pe,me,Pe,We,Ue,ze,Z,te,ee,je,Re,Be,Ae,ne,ie,W],encapsulation:2,changeDetection:0})}}return t})();function xt(t,c){if(t&1){let e=x();a(0,"mat-form-field",11)(1,"button",12),f("click",function(){let n=m(e).$implicit,o=s(2);return d(o.deleteLabel(n.id))}),u(2,"mat-icon",9),l(),a(3,"input",13),A("ngModelChange",function(n){let o=m(e).$implicit;return R(o.title,n)||(o.title=n),d(n)}),f("input",function(){let n=m(e).$implicit,o=s(2);return d(o.updateLabel(n))}),l()()}if(t&2){let e=c.$implicit;r(2),p("svgIcon","heroicons_solid:trash"),r(),p("autocomplete","off"),B("ngModel",e.title)}}function vt(t,c){t&1&&w(0,xt,4,3,"mat-form-field",11,N().trackByFn,!0),t&2&&y(c)}var Ze=(()=>{class t{constructor(e,i){this._changeDetectorRef=e,this._notesService=i,this.labelChanged=new S,this._unsubscribeAll=new S}ngOnInit(){this.labels$=this._notesService.labels$,this.labelChanged.pipe(j(this._unsubscribeAll),Q(500),be(e=>e.title.trim()!==""),M(e=>this._notesService.updateLabel(e))).subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addLabel(e){this._notesService.addLabel(e).subscribe()}updateLabel(e){this.labelChanged.next(e)}deleteLabel(e){this._notesService.deleteLabel(e).subscribe(()=>{this._changeDetectorRef.markForCheck()})}trackByFn(e,i){return i.id||e}static{this.\u0275fac=function(i){return new(i||t)(b(O),b(q))}}static{this.\u0275cmp=T({type:t,selectors:[["notes-labels"]],standalone:!0,features:[F],decls:14,vars:9,consts:[["newLabelInput",""],[1,"flex","w-80","min-w-80","flex-auto","flex-col","p-2","md:p-4"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold"],["matDialogClose","","mat-icon-button",""],[3,"svgIcon"],[1,"fuse-mat-dense","mt-8","w-full"],["name","new-label","matInput","",3,"autocomplete","placeholder"],["mat-icon-button","","matSuffix","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"mt-4","flex","flex-col"],[1,"fuse-mat-dense","w-full"],["mat-icon-button","","matPrefix","",3,"click"],["required","","matInput","",3,"ngModelChange","input","autocomplete","ngModel"]],template:function(i,n){if(i&1){let o=x();a(0,"div",1)(1,"div",2)(2,"div",3),g(3,"Edit labels"),l(),a(4,"button",4),u(5,"mat-icon",5),l()(),a(6,"mat-form-field",6),u(7,"input",7,0),a(9,"button",8),f("click",function(){m(o);let v=k(8);return n.addLabel(v.value),d(v.value="")}),u(10,"mat-icon",9),l()(),a(11,"div",10),h(12,vt,2,0),V(13,"async"),l()()}if(i&2){let o,_=k(8);r(5),p("svgIcon","heroicons_outline:x-mark"),r(2),p("autocomplete","off")("placeholder","Create new label"),r(2),K("invisible",_.value.trim()===""),r(),p("svgIcon","heroicons_solid:check-circle"),r(2),C((o=L(13,7,n.labels$))?12:-1,o)}},dependencies:[z,P,ne,ie,H,U,ae,re,oe,Ee,ue,_e,de,ce,pe,Oe,me,W],encapsulation:2,changeDetection:0})}}return t})();var he=(t,c)=>({"bg-gray-200 text-primary dark:bg-gray-700 dark:text-primary-400":t,"text-hint hover:bg-hover":c}),bt=t=>({"text-secondary line-through":t});function wt(t,c){if(t&1){let e=x();a(0,"div",8),f("click",function(){let n=m(e).$implicit,o=s(2);return d(o.filterByLabel(n.id))}),u(1,"mat-icon",9),a(2,"div",10),g(3),l()()}if(t&2){let e=c.$implicit,i=s(2);p("ngClass",Y(4,he,"label:"+e.id===i.filterStatus,"label:"+e.id!==i.filterStatus))("matRippleDisabled","label:"+e.id===i.filterStatus),r(),p("svgIcon","heroicons_outline:tag"),r(2),D(" ",e.title," ")}}function yt(t,c){t&1&&w(0,wt,4,7,"div",27,N().trackByFn,!0),t&2&&y(c)}function Nt(t,c){if(t&1&&u(0,"img",32),t&2){let e=s().$implicit;p("src",e.image,J)}}function kt(t,c){if(t&1&&(a(0,"div",34),g(1),l()),t&2){let e=s().$implicit;r(),D(" ",e.title," ")}}function Mt(t,c){if(t&1&&(a(0,"div"),g(1),l()),t&2){let e=s().$implicit;K("text-xl",e.content.length<70),r(),D(" ",e.content," ")}}function St(t,c){t&1&&(a(0,"div",38),u(1,"div",41),l())}function It(t,c){t&1&&u(0,"mat-icon",39),t&2&&p("svgIcon","heroicons_solid:check-circle")}function Tt(t,c){if(t&1&&(a(0,"div",16),h(1,St,2,0,"div",38)(2,It,1,1,"mat-icon",39),a(3,"div",40),g(4),l()()),t&2){let e=c.$implicit;r(),C(e.completed?-1:1),r(),C(e.completed?2:-1),r(),p("ngClass",X(4,bt,e.completed)),r(),D(" ",e.content," ")}}function Dt(t,c){if(t&1&&(a(0,"div",36),w(1,Tt,5,6,"div",16,N().trackByFn,!0),l()),t&2){let e=s().$implicit;r(),y(e.tasks)}}function Ft(t,c){if(t&1&&(a(0,"div",42),g(1),l()),t&2){let e=c.$implicit;r(),D(" ",e.title," ")}}function Vt(t,c){if(t&1&&(a(0,"div",37),w(1,Ft,2,1,"div",42,N().trackByFn,!0),l()),t&2){let e=s().$implicit;r(),y(e.labels)}}function Lt(t,c){if(t&1){let e=x();a(0,"div",31),f("click",function(){let n=m(e).$implicit,o=s(5);return d(o.openNoteDialog(n))}),h(1,Nt,1,1,"img",32),a(2,"div",33),h(3,kt,2,1,"div",34)(4,Mt,2,3,"div",35)(5,Dt,3,0,"div",36)(6,Vt,3,0,"div",37),l()()}if(t&2){let e=c.$implicit;r(),C(e.image?1:-1),r(2),C(e.title?3:-1),r(),C(e.content?4:-1),r(),C(e.tasks?5:-1),r(),C(e.labels?6:-1)}}function Et(t,c){if(t&1&&(a(0,"div",29),w(1,Lt,7,5,"div",30,N().trackByFn,!0),l()),t&2){let e=c.$implicit;r(),y(e.items)}}function $t(t,c){if(t&1&&w(0,Et,3,0,"div",29,N().trackByFn,!0),t&2){let e=c.$implicit;y(e)}}function Bt(t,c){if(t&1&&(a(0,"fuse-masonry",28),h(1,$t,2,0,"ng-template",null,2,Ie),l()),t&2){let e=k(2),i=s(),n=s();p("items",i)("columns",n.masonryColumns)("columnsTemplate",e)}}function Rt(t,c){t&1&&(a(0,"div",26),u(1,"mat-icon",43),a(2,"div",44),g(3," There are no notes! "),l()()),t&2&&(r(),p("svgIcon","heroicons_outline:document"))}function At(t,c){t&1&&h(0,Bt,3,3,"fuse-masonry",28)(1,Rt,4,1,"div",26),t&2&&C(c.length?0:1)}function jt(t,c){t&1&&(a(0,"div",26)(1,"div",44),g(2," Loading... "),l()())}var et=(()=>{class t{constructor(e,i,n,o){this._changeDetectorRef=e,this._fuseMediaWatcherService=i,this._matDialog=n,this._notesService=o,this.drawerMode="side",this.drawerOpened=!0,this.filter$=new E("notes"),this.searchQuery$=new E(null),this.masonryColumns=4,this._unsubscribeAll=new S}get filterStatus(){return this.filter$.value}ngOnInit(){this._notesService.getLabels().subscribe(),this._notesService.getNotes().subscribe(),this.labels$=this._notesService.labels$,this.notes$=ve([this._notesService.notes$,this.filter$,this.searchQuery$]).pipe(ye(),I(([e,i,n])=>{if(!e||!e.length)return;let o=e;n&&(n=n.trim().toLowerCase(),o=o.filter(v=>v.title.toLowerCase().includes(n)||v.content.toLowerCase().includes(n)));let _=i==="archived";if(o=o.filter(v=>v.archived===_),i.startsWith("label:")){let v=i.split(":")[1];o=o.filter(it=>!!it.labels.find(nt=>nt.id===v))}return o})),this._fuseMediaWatcherService.onMediaChange$.pipe(j(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{e.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),e.includes("xl")?this.masonryColumns=5:e.includes("lg")?this.masonryColumns=4:e.includes("md")?this.masonryColumns=3:e.includes("sm")?this.masonryColumns=2:this.masonryColumns=1,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addNewNote(){this._matDialog.open(ge,{autoFocus:!1,data:{note:{}}})}openEditLabelsDialog(){this._matDialog.open(Ze,{autoFocus:!1})}openNoteDialog(e){this._matDialog.open(ge,{autoFocus:!1,data:{note:le(e)}})}filterByArchived(){this.filter$.next("archived")}filterByLabel(e){let i=`label:${e}`;this.filter$.next(i)}filterByQuery(e){this.searchQuery$.next(e)}resetFilter(){this.filter$.next("notes")}trackByFn(e,i){return i.id||e}static{this.\u0275fac=function(i){return new(i||t)(b(O),b($e),b(Le),b(q))}}static{this.\u0275cmp=T({type:t,selectors:[["notes-list"]],standalone:!0,features:[F],decls:37,vars:28,consts:[["drawer",""],["searchInput",""],["columnsTemplate",""],[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"bg-card","h-full","flex-auto","dark:bg-transparent"],[1,"bg-default","w-2/3","border-r-0","sm:w-72","lg:w-56",3,"mode","opened"],[1,"p-6","lg:py-8","lg:pl-4","lg:pr-0"],[1,"space-y-2"],["matRipple","",1,"relative","flex","cursor-pointer","items-center","rounded-full","px-4","py-2","font-medium",3,"click","ngClass","matRippleDisabled"],[1,"text-current",3,"svgIcon"],[1,"text-default","ml-3","select-none","leading-5"],["matRipple","",1,"relative","flex","cursor-pointer","items-center","rounded-full","px-4","py-2","font-medium","hover:bg-hover",3,"click"],[1,"text-hint",3,"svgIcon"],[1,"ml-3","select-none","leading-5"],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-auto","flex-col","p-6","md:p-8"],[1,"flex","items-center"],[1,"flex","flex-auto","items-center"],["mat-icon-button","",1,"-ml-2","flex","lg:hidden",3,"click"],[3,"svgIcon"],[1,"fuse-mat-rounded","fuse-mat-dense","ml-4","flex-auto","lg:ml-0",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"input","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4","min-w-10","px-1","sm:px-4",3,"click","color"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","hidden","sm:inline-block"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],["matRipple","",1,"relative","flex","cursor-pointer","items-center","rounded-full","px-4","py-2","font-medium",3,"ngClass","matRippleDisabled"],[1,"-mx-2","mt-8",3,"items","columns","columnsTemplate"],[1,"flex-1","space-y-4","px-2"],[1,"bg-card","flex","cursor-pointer","flex-col","overflow-hidden","rounded-2xl","shadow"],[1,"bg-card","flex","cursor-pointer","flex-col","overflow-hidden","rounded-2xl","shadow",3,"click"],[1,"w-full","object-cover",3,"src"],[1,"flex","flex-auto","flex-col","space-y-4","p-6"],[1,"line-clamp-3","font-semibold"],[3,"text-xl"],[1,"space-y-1.5"],[1,"-m-1","flex","flex-wrap","items-center"],[1,"flex","h-5","w-5","items-center","justify-center"],[1,"text-hint","icon-size-5",3,"svgIcon"],[1,"ml-1.5","leading-5",3,"ngClass"],[1,"h-4","w-4","rounded-full","border-2"],[1,"m-1","rounded-full","bg-gray-100","px-3","py-0.5","text-sm","font-medium","text-gray-500","dark:bg-gray-700","dark:text-gray-300"],[1,"icon-size-24",3,"svgIcon"],[1,"text-secondary","mt-4","text-2xl","font-semibold","tracking-tight"]],template:function(i,n){if(i&1){let o=x();a(0,"div",3)(1,"mat-drawer-container",4)(2,"mat-drawer",5,0)(4,"div",6)(5,"div",7)(6,"div",8),f("click",function(){return m(o),d(n.resetFilter())}),u(7,"mat-icon",9),a(8,"div",10),g(9," Notes "),l()(),a(10,"div",8),f("click",function(){return m(o),d(n.filterByArchived())}),u(11,"mat-icon",9),a(12,"div",10),g(13," Archive "),l()(),h(14,yt,2,0),V(15,"async"),a(16,"div",11),f("click",function(){return m(o),d(n.openEditLabelsDialog())}),u(17,"mat-icon",12),a(18,"div",13),g(19," Edit labels "),l()()()()(),a(20,"mat-drawer-content",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"button",18),f("click",function(){m(o);let v=k(3);return d(v.toggle())}),u(25,"mat-icon",19),l(),a(26,"mat-form-field",20),u(27,"mat-icon",21),a(28,"input",22,1),f("input",function(){m(o);let v=k(29);return d(n.filterByQuery(v.value))}),l()()(),a(30,"button",23),f("click",function(){return m(o),d(n.addNewNote())}),u(31,"mat-icon",24),a(32,"span",25),g(33,"New note"),l()()(),h(34,At,2,1),V(35,"async"),h(36,jt,3,0,"div",26),l()()()()}if(i&2){let o,_;r(2),p("mode",n.drawerMode)("opened",n.drawerOpened),r(4),p("ngClass",Y(22,he,n.filterStatus==="notes",n.filterStatus!=="notes"))("matRippleDisabled",n.filterStatus==="notes"),r(),p("svgIcon","heroicons_outline:pencil-square"),r(3),p("ngClass",Y(25,he,n.filterStatus==="archived",n.filterStatus!=="archived"))("matRippleDisabled",n.filterStatus==="archived"),r(),p("svgIcon","heroicons_outline:archive-box"),r(3),C((o=L(15,18,n.labels$))?14:-1,o),r(3),p("svgIcon","heroicons_outline:pencil"),r(8),p("svgIcon","heroicons_outline:bars-3"),r(),p("subscriptSizing","dynamic"),r(),p("svgIcon","heroicons_solid:magnifying-glass"),r(),p("autocomplete","off")("placeholder","Search notes"),r(2),p("color","primary"),r(),p("svgIcon","heroicons_solid:plus-circle"),r(3),C((_=L(35,20,n.notes$))?34:36,_)}},dependencies:[Qe,qe,Ge,He,te,ee,Z,H,U,z,se,P,ae,re,oe,ue,_e,Je,W],encapsulation:2,changeDetection:0})}}return t})();var tt=(()=>{class t{constructor(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=T({type:t,selectors:[["notes"]],standalone:!0,features:[F],decls:1,vars:0,template:function(i,n){i&1&&u(0,"router-outlet")},dependencies:[De],encapsulation:2,changeDetection:0})}}return t})();var Fi=[{path:"",component:tt,children:[{path:"",component:et}]}];export{Fi as default};
