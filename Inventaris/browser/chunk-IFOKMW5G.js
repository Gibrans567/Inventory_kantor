import{a as C}from"./chunk-5YN4RONS.js";import{k as o}from"./chunk-IBS3LV7I.js";import{d,g as a,m as x}from"./chunk-DMLXHO7N.js";import{Eb as m,Fb as w,Ia as h,Ja as n,Nb as c,Ob as v,Zb as y,ac as g,bc as _,ca as l,ia as s,jb as p,na as f,rc as b,xa as u}from"./chunk-PRGEIZ6M.js";var O=(()=>{class r{constructor(){this._componentRegistry=new Map}registerComponent(e,t){this._componentRegistry.set(e,t)}deregisterComponent(e){this._componentRegistry.delete(e)}getComponent(e){return this._componentRegistry.get(e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var F=["*"],U=(()=>{class r{constructor(){this._animationBuilder=s(x),this._elementRef=s(h),this._renderer2=s(p),this._fuseDrawerService=s(O),this._fuseUtilsService=s(C),this.fixed=!1,this.mode="side",this.name=this._fuseUtilsService.randomId(),this.opened=!1,this.position="left",this.transparentOverlay=!1,this.fixedChanged=new n,this.modeChanged=new n,this.openedChanged=new n,this.positionChanged=new n,this._animationsEnabled=!1,this._handleOverlayClick=()=>this.close(),this._hovered=!1}get classList(){return{"fuse-drawer-animations-enabled":this._animationsEnabled,"fuse-drawer-fixed":this.fixed,"fuse-drawer-hover":this._hovered,[`fuse-drawer-mode-${this.mode}`]:!0,"fuse-drawer-opened":this.opened,[`fuse-drawer-position-${this.position}`]:!0}}get styleList(){return{visibility:this.opened?"visible":"hidden"}}_onMouseenter(){this._enableAnimations(),this._hovered=!0}_onMouseleave(){this._enableAnimations(),this._hovered=!1}ngOnChanges(e){if("fixed"in e&&(this.fixed=o(e.fixed.currentValue),this.fixedChanged.next(this.fixed)),"mode"in e){let t=e.mode.previousValue,i=e.mode.currentValue;this._disableAnimations(),t==="over"&&i==="side"&&this._hideOverlay(),t==="side"&&i==="over"&&this.opened&&this._showOverlay(),this.modeChanged.next(i),setTimeout(()=>{this._enableAnimations()},500)}if("opened"in e){let t=o(e.opened.currentValue);this._toggleOpened(t)}"position"in e&&this.positionChanged.next(this.position),"transparentOverlay"in e&&(this.transparentOverlay=o(e.transparentOverlay.currentValue))}ngOnInit(){this._fuseDrawerService.registerComponent(this.name,this)}ngOnDestroy(){this._player&&this._player.finish(),this._fuseDrawerService.deregisterComponent(this.name)}open(){this.opened||this._toggleOpened(!0)}close(){this.opened&&this._toggleOpened(!1)}toggle(){this.opened?this.close():this.open()}_enableAnimations(){this._animationsEnabled||(this._animationsEnabled=!0)}_disableAnimations(){this._animationsEnabled&&(this._animationsEnabled=!1)}_showOverlay(){this._overlay=this._renderer2.createElement("div"),this._overlay.classList.add("fuse-drawer-overlay"),this.fixed&&this._overlay.classList.add("fuse-drawer-overlay-fixed"),this.transparentOverlay&&this._overlay.classList.add("fuse-drawer-overlay-transparent"),this._renderer2.appendChild(this._elementRef.nativeElement.parentElement,this._overlay),this._player=this._animationBuilder.build([a({opacity:0}),d("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",a({opacity:1}))]).create(this._overlay),this._player.play(),this._overlay.addEventListener("click",this._handleOverlayClick)}_hideOverlay(){this._overlay&&(this._player=this._animationBuilder.build([d("300ms cubic-bezier(0.25, 0.8, 0.25, 1)",a({opacity:0}))]).create(this._overlay),this._player.play(),this._player.onDone(()=>{this._overlay&&(this._overlay.removeEventListener("click",this._handleOverlayClick),this._overlay.parentNode.removeChild(this._overlay),this._overlay=null)}))}_toggleOpened(e){this.opened=e,this._enableAnimations(),this.mode==="over"&&(e?this._showOverlay():this._hideOverlay()),this.openedChanged.next(e)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=f({type:r,selectors:[["fuse-drawer"]],hostVars:4,hostBindings:function(t,i){t&1&&y("mouseenter",function(){return i._onMouseenter()})("mouseleave",function(){return i._onMouseleave()}),t&2&&(m(i.styleList),w(i.classList))},inputs:{fixed:"fixed",mode:"mode",name:"name",opened:"opened",position:"position",transparentOverlay:"transparentOverlay"},outputs:{fixedChanged:"fixedChanged",modeChanged:"modeChanged",openedChanged:"openedChanged",positionChanged:"positionChanged"},exportAs:["fuseDrawer"],standalone:!0,features:[u,b],ngContentSelectors:F,decls:2,vars:0,consts:[[1,"fuse-drawer-content"]],template:function(t,i){t&1&&(g(),c(0,"div",0),_(1),v())},styles:[`:root{--fuse-drawer-width: 320px}fuse-drawer{position:relative;display:flex;flex-direction:column;flex:1 1 auto;width:var(--fuse-drawer-width);min-width:var(--fuse-drawer-width);max-width:var(--fuse-drawer-width);z-index:300;box-shadow:0 2px 8px #00000059;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity))}fuse-drawer.fuse-drawer-animations-enabled{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:visibility,margin-left,margin-right,transform,width,max-width,min-width}fuse-drawer.fuse-drawer-animations-enabled .fuse-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:width,max-width,min-width}fuse-drawer.fuse-drawer-mode-over{position:absolute;top:0;bottom:0}fuse-drawer.fuse-drawer-mode-over.fuse-drawer-fixed{position:fixed}fuse-drawer.fuse-drawer-position-left.fuse-drawer-mode-side{margin-left:calc(var(--fuse-drawer-width) * -1)}fuse-drawer.fuse-drawer-position-left.fuse-drawer-mode-side.fuse-drawer-opened{margin-left:0}fuse-drawer.fuse-drawer-position-left.fuse-drawer-mode-over{left:0;transform:translate3d(-100%,0,0)}fuse-drawer.fuse-drawer-position-left.fuse-drawer-mode-over.fuse-drawer-opened{transform:translateZ(0)}fuse-drawer.fuse-drawer-position-left .fuse-drawer-content{left:0}fuse-drawer.fuse-drawer-position-right.fuse-drawer-mode-side{margin-right:calc(var(--fuse-drawer-width) * -1)}fuse-drawer.fuse-drawer-position-right.fuse-drawer-mode-side.fuse-drawer-opened{margin-right:0}fuse-drawer.fuse-drawer-position-right.fuse-drawer-mode-over{right:0;transform:translate3d(100%,0,0)}fuse-drawer.fuse-drawer-position-right.fuse-drawer-mode-over.fuse-drawer-opened{transform:translateZ(0)}fuse-drawer.fuse-drawer-position-right .fuse-drawer-content{right:0}fuse-drawer .fuse-drawer-content{position:absolute;display:flex;flex:1 1 auto;top:0;bottom:0;width:100%;height:100%;overflow:hidden;--tw-bg-opacity: 1;background-color:rgba(var(--fuse-bg-card-rgb),var(--tw-bg-opacity))}.fuse-drawer-overlay{position:absolute;inset:0;z-index:299;opacity:1;background-color:#0009}.fuse-drawer-overlay.fuse-drawer-overlay-fixed{position:fixed}.fuse-drawer-overlay.fuse-drawer-overlay-transparent{background-color:transparent}
`],encapsulation:2})}}return r})();export{U as a};
