import{a as ne}from"./chunk-WWD2L4QL.js";import{a as c,b as oe}from"./chunk-33AQHTZ3.js";import{a as f,b as ae,c as re}from"./chunk-FDC45VUS.js";import{a as K,b as $,c as G,e as U,f as Z,h as J,i as W,k as X,l as Y,n as ee,o as te,p as ie}from"./chunk-QBWZ6CEK.js";import"./chunk-BRBHI7BQ.js";import"./chunk-JIIP3X5D.js";import{d as z}from"./chunk-6GRHLUW6.js";import"./chunk-DCIWF3NK.js";import"./chunk-N64NHRQD.js";import"./chunk-N34H76JM.js";import"./chunk-WCPJYO2Z.js";import{d as O,e as q}from"./chunk-BNZ6GVUN.js";import{j as V}from"./chunk-BVYLKFEF.js";import"./chunk-PPHX6Q7S.js";import{B}from"./chunk-EMGI2SSV.js";import{e as j}from"./chunk-DPACH7O6.js";import{c as N}from"./chunk-IIOR2V55.js";import"./chunk-SFWQ4JHW.js";import"./chunk-DITXZIYA.js";import"./chunk-PTSJDPUO.js";import"./chunk-G5ULN3RC.js";import{f as Q}from"./chunk-SQERYEB6.js";import"./chunk-56EIYY4C.js";import{f as P}from"./chunk-HZDJ65MY.js";import"./chunk-OAD3FQTP.js";import{k as R,x as A}from"./chunk-MFIY2XVS.js";import{$b as L,Aa as D,Ba as F,Bb as s,Nb as a,Ob as r,Pb as p,Qb as _,Rb as C,Tb as I,Zb as w,db as n,dc as S,eb as v,ec as M,fc as x,hc as m,ic as b,na as H,rc as T,sc as E,ya as h,za as y,zb as u}from"./chunk-ULGM77ZI.js";import{i as k}from"./chunk-7EPSDV5K.js";var me=()=>[5,10,20];function de(e,l){e&1&&(a(0,"div",15),p(1,"div",16)(2,"div",16)(3,"div",16),r())}function pe(e,l){e&1&&(a(0,"div")(1,"div",17),p(2,"img",18),a(3,"h1",19),m(4,"Data Not Found"),r()()())}function ue(e,l){e&1&&(a(0,"th",29),m(1,"Kategori"),r())}function fe(e,l){if(e&1&&(a(0,"td",30),m(1),r()),e&2){let t=l.$implicit;n(),b(t.kategori)}}function ce(e,l){e&1&&(a(0,"th",29),m(1,"Keterangan"),r())}function ge(e,l){if(e&1&&(a(0,"td",30),m(1),r()),e&2){let t=l.$implicit;n(),b(t.keterangan)}}function he(e,l){e&1&&p(0,"tr",31)}function ye(e,l){e&1&&p(0,"tr",32)}function ve(e,l){if(e&1&&(a(0,"div",20)(1,"h2",21),m(2,"Log Aktivitas"),r(),a(3,"table",22),_(4,23),u(5,ue,2,0,"th",24)(6,fe,2,1,"td",25),C(),_(7,26),u(8,ce,2,0,"th",24)(9,ge,2,1,"td",25),C(),u(10,he,1,0,"tr",27)(11,ye,1,0,"tr",28),r()()),e&2){let t=L();n(3),s("dataSource",t.dataSource),n(7),s("matHeaderRowDef",t.displayedColumns),n(),s("matRowDefColumns",t.displayedColumns)}}var le=(()=>{class e{constructor(t,o){this._apiService=t,this.route=o,this.displayedColumns=["kategori","keterangan"],this.dataSource=new ie([]),this.isLoading=!1,this.isNotDataFound=!1,this.logAktivitas=[]}ngOnInit(){this.route.paramMap.subscribe(()=>{this.getHistory()})}getHistory(){return k(this,null,function*(){this.isLoading=!0,this.isNotDataFound=!1;try{let t=yield this._apiService.get("/histories",!0);this.logAktivitas=Array.isArray(t)?t:[],this.dataSource.data=this.logAktivitas,this.isNotDataFound=this.logAktivitas.length===0}catch(t){console.error(t),this.isNotDataFound=!0}finally{this.isLoading=!1}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(t,o)=>{let i=o.trim().toLowerCase();return t.kategori?.toLowerCase().includes(i)||t.keterangan?.toLowerCase().includes(i)}}onPageChange(t){this.dataSource.paginator=this.paginator}applySearchFilter(t){this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}applyFilterUserProfile(){}static{this.\u0275fac=function(o){return new(o||e)(v(Q),v(P))}}static{this.\u0275cmp=H({type:e,selectors:[["app-history"]],viewQuery:function(o,i){if(o&1&&(S(c,5),S(f,5)),o&2){let d;M(d=x())&&(i.paginator=d.first),M(d=x())&&(i.sort=d.first)}},standalone:!0,features:[T],decls:16,vars:9,consts:[["fuseCard",""],["paginator",""],[1,"w-full","h-fit","mb-10","flex","flex-col","mx-8","my-7"],[1,"flex","flex-col","shadow-md","border-[1px]"],[1,"truncate","text-lg","flex-col","sm:flex-row","font-medium","leading-6","tracking-tight","px-5","py-3","flex","items-start","sm:items-center","w-full","justify-between"],["for","table-search",1,"sr-only"],[1,"relative","my-2"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search Log",1,"block","p-2","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup","disabled"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],["class","p-5",4,"ngIf"],[3,"page","pageSize","length","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"flex","flex-col","items-center"],["src","../../../../../assets/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],[1,"p-5"],[1,"text-lg","font-semibold","mb-4"],["mat-table","","matSort","",1,"w-full",3,"dataSource"],["matColumnDef","kategori"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","keterangan"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,i){if(o&1){let d=I();a(0,"main",2)(1,"fuse-card",3,0)(3,"div",4)(4,"label",5),m(5,"Search"),r(),a(6,"div",6)(7,"div",7),D(),a(8,"svg",8),p(9,"path",9),r()(),F(),a(10,"input",10),w("keyup",function(g){return h(d),y(i.applySearchFilter(g.target.value))}),r()()(),u(11,de,4,0,"div",11)(12,pe,5,0,"div",12)(13,ve,12,3,"div",13),a(14,"mat-paginator",14,1),w("page",function(g){return h(d),y(i.onPageChange(g))}),r()()()}o&2&&(n(10),s("disabled",i.isLoading),n(),s("ngIf",i.isLoading),n(),s("ngIf",i.isNotDataFound&&!i.isLoading),n(),s("ngIf",!i.isLoading&&i.logAktivitas.length>0),n(),s("pageSize",5)("length",i.logAktivitas.length)("pageSizeOptions",E(8,me))("showFirstLastButtons",!0))},dependencies:[j,te,K,G,W,U,$,X,Z,J,Y,ee,re,f,ae,V,q,O,oe,c,B,A,R,z,ne,N]})}}return e})();var ze=[{path:"",component:le}];export{ze as default};
