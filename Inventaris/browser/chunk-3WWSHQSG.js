import{d as z}from"./chunk-JTDLBORC.js";import{a as U,s as O}from"./chunk-R2G5O2T3.js";import{a as W}from"./chunk-R7PCNJJG.js";import{a as k}from"./chunk-4ZGOATSA.js";import{a as S}from"./chunk-K6SJV66T.js";import{a as q,b as B}from"./chunk-7I5SQKLH.js";import{d as T,e as V}from"./chunk-BNZ6GVUN.js";import{a as b,b as I,i as M,j as C}from"./chunk-BVYLKFEF.js";import{A as G,B as P,b as w,d as N,f as j,g as x,l as A,o as E,r as L,y as R}from"./chunk-EMGI2SSV.js";import{b as F,c as D}from"./chunk-IIOR2V55.js";import{h as y}from"./chunk-HZDJ65MY.js";import{k as h,x as _}from"./chunk-MFIY2XVS.js";import{Bb as s,Nb as a,Ob as n,Pb as d,Zb as f,db as l,eb as i,hc as c,na as v,rc as g,zb as p}from"./chunk-ULGM77ZI.js";import{i as u}from"./chunk-7EPSDV5K.js";function Y(e,H){e&1&&(a(0,"div",10),d(1,"mat-spinner",11),n())}function Z(e,H){e&1&&(a(0,"mat-error"),c(1," Nama Divisi wajib diisi "),n())}var yi=(()=>{class e{constructor(o,t,r,m,J,K,Q,X){this.platform=o,this.fb=t,this._apiService=r,this.router=m,this.loadingController=J,this.fuseConfirmationService=K,this._tableUsersService=Q,this.dialogRef=X,this.isLoading=!1}ngOnInit(){this.categoryForm=this.fb.group({nama_divisi:["",N.required]}),this.platform.backButton.subscribeWithPriority(10,()=>{this.router.navigate(["/dashboard/inventaris"])})}onNoClick(){this.dialogRef.close()}onSubmit(){return u(this,null,function*(){if(!this.categoryForm.valid){console.warn("Form tidak valid");return}this.isLoading=!0;try{let o={nama_divisi:this.categoryForm.value.nama_divisi},t=yield this._apiService.post("/divisi",o);console.log(t),this.dialogRef.close("refresh"),this._tableUsersService.fetchData()}catch(o){console.error("Gagal submit form",o)}finally{this.isLoading=!1}})}static{this.\u0275fac=function(t){return new(t||e)(i(U),i(R),i(W),i(y),i(O),i(k),i(z),i(S))}}static{this.\u0275cmp=v({type:e,selectors:[["app-divisi"]],standalone:!0,features:[g],decls:13,vars:3,consts:[[1,"h-full","w-full"],["class","loading-overlay",4,"ngIf"],[1,"w-full",3,"click"],["svgIcon","mat_solid:close",1,"self-end"],[1,"overflow-y-auto",2,"max-height","80vh","padding-right","10px"],[1,"bg-card","mt-2","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4",3,"formGroup"],["floatLabel","always",1,"w-full","mb-2"],["matInput","","formControlName","nama_divisi","type","text","placeholder","Masukkan nama divisi"],[4,"ngIf"],[1,"bg-green-600","text-white","p-2","rounded","mt-4",3,"click"],[1,"loading-overlay"],["diameter","50","color","primary"]],template:function(t,r){if(t&1&&(a(0,"div",0),p(1,Y,2,0,"div",1),a(2,"a",2),f("click",function(){return r.onNoClick()}),d(3,"mat-icon",3),n(),a(4,"div",4)(5,"form",5)(6,"mat-form-field",6)(7,"mat-label"),c(8,"Nama Divisi"),n(),d(9,"input",7),p(10,Z,2,0,"mat-error",8),n(),a(11,"button",9),f("click",function(){return r.onSubmit()}),c(12," Simpan Divisi "),n()()()()),t&2){let m;l(),s("ngIf",r.isLoading),l(4),s("formGroup",r.categoryForm),l(5),s("ngIf",(m=r.categoryForm.get("nama_divisi"))==null?null:m.hasError("required"))}},dependencies:[C,M,b,I,G,A,w,j,x,V,T,_,h,P,E,L,D,F,B,q]})}}return e})();export{yi as a};
